import{Q as vt}from"./QImg.acbd2cb8.js";import{h as U,t as C,l as g,A as re,q as gt,s as ve,f as b,j as ye,g as Fe,V as Ve,W as we,X as bt,Y as Me,Z as _t,$ as ht,a0 as Y,I as He,m as Te,a1 as mt,a2 as yt,a3 as ge,O as Ne,v as I,z as wt,a4 as We,a5 as je,u as Tt,a6 as ze,o as j,M as Ce,S as R,a as r,w as u,a7 as Ct,K as Se,a8 as W,a9 as K,aa as St,ab as xt,x as qt,p as Lt,ac as le,k as De,D as be,ad as _e,C as kt,ae as Ee,af as pt,ag as Bt,ah as me,d as xe,L as Oe,Q as Pt,U as Ke,c as Z,ai as $t,aj as Qt,ak as It,r as Rt}from"./index.8d354e65.js";import{c as At,d as Mt,Q as Ue,a as Ge,b as Xe}from"./QLayout.d0922aed.js";import{r as Nt,Q as ne,a as Ye,b as Dt,C as Et,c as Ft}from"./ClosePopup.e4e7496c.js";import{Q as Vt,P as Ht,a as Wt}from"./ProfilePage.10aee7b2.js";import{Q as qe,a as jt,_ as zt}from"./NewPostForm.1837ee6e.js";import{u as Le}from"./use-quasar.879ae5ba.js";var Ze=U({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:s}){const n=C(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>g("div",{class:n.value},re(s.default))}}),Je=U({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:s}){const n=C(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>g("div",{class:n.value,role:"toolbar"},re(s.default))}});let Ot=0;const Kt=["click","keydown"],Ut={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ot++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Gt(e,s,n,o){const a=gt(Ve,ve);if(a===ve)return console.error("QTab/QRouteTab component needs to be child of QTabs"),ve;const{proxy:y}=Te(),P=b(null),q=b(null),i=b(null),h=C(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),M=C(()=>a.currentModel.value===e.name),$=C(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(M.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(o!==void 0?o.linkClass.value:"")),N=C(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),p=C(()=>e.disable===!0||a.hasFocus.value===!0||M.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function Q(c,S){if(S!==!0&&P.value!==null&&P.value.focus(),e.disable===!0){o!==void 0&&o.hasRouterLink.value===!0&&Me(c);return}if(o===void 0){a.updateModel({name:e.name}),n("click",c);return}if(o.hasRouterLink.value===!0){const L=(x={})=>{let f;const m=x.to===void 0||mt(x.to,e.to)===!0?a.avoidRouteWatcher=yt():null;return o.navigateToRouterLink(c,{...x,returnRouterError:!0}).catch(B=>{f=B}).then(B=>{if(m===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,f===void 0&&(B===void 0||B.message!==void 0&&B.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:e.name})),x.returnRouterError===!0)return f!==void 0?Promise.reject(f):B})};n("click",c,L),c.defaultPrevented!==!0&&L();return}n("click",c)}function A(c){_t(c,[13,32])?Q(c,!0):ht(c)!==!0&&c.keyCode>=35&&c.keyCode<=40&&c.altKey!==!0&&c.metaKey!==!0&&a.onKbdNavigate(c.keyCode,y.$el)===!0&&Me(c),n("keydown",c)}function D(){const c=a.tabProps.value.narrowIndicator,S=[],L=g("div",{ref:i,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&S.push(g(Y,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&S.push(g("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&S.push(e.alertIcon!==void 0?g(Y,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):g("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),c===!0&&S.push(L);const x=[g("div",{class:"q-focus-helper",tabindex:-1,ref:P}),g("div",{class:N.value},He(s.default,S))];return c===!1&&x.push(L),x}const F={name:C(()=>e.name),rootRef:q,tabIndicatorRef:i,routeData:o};ye(()=>{a.unregisterTab(F)}),Fe(()=>{a.registerTab(F)});function z(c,S){const L={ref:q,class:$.value,tabindex:p.value,role:"tab","aria-selected":M.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:Q,onKeydown:A,...S};return we(g(c,L,D()),[[bt,h.value]])}return{renderTab:z,$tabs:a}}var he=U({name:"QTab",props:Ut,emits:Kt,setup(e,{slots:s,emit:n}){const{renderTab:o}=Gt(e,s,n);return()=>o("div")}});function Xt(e,s,n){const o=n===!0?["left","right"]:["top","bottom"];return`absolute-${s===!0?o[0]:o[1]}${e?` text-${e}`:""}`}const Yt=["left","center","right","justify"];var Zt=U({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Yt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:s,emit:n}){const{proxy:o}=Te(),{$q:a}=o,{registerTick:y}=ge(),{registerTick:P}=ge(),{registerTick:q}=ge(),{registerTimeout:i,removeTimeout:h}=Ne(),{registerTimeout:M,removeTimeout:$}=Ne(),N=b(null),p=b(null),Q=b(e.modelValue),A=b(!1),D=b(!0),F=b(!1),z=b(!1),c=[],S=b(0),L=b(!1);let x=null,f=null,m;const B=C(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Xt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),se=C(()=>{const t=S.value,l=Q.value;for(let d=0;d<t;d++)if(c[d].name.value===l)return!0;return!1}),ie=C(()=>`q-tabs__content--align-${A.value===!0?"left":z.value===!0?"justify":e.align}`),et=C(()=>`q-tabs row no-wrap items-center q-tabs--${A.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),tt=C(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ie.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),J=C(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ee=C(()=>e.vertical!==!0&&a.lang.rtl===!0),ue=C(()=>Nt===!1&&ee.value===!0);I(ee,X),I(()=>e.modelValue,t=>{ce({name:t,setCurrent:!0,skipEmit:!0})}),I(()=>e.outsideArrows,te);function ce({name:t,setCurrent:l,skipEmit:d}){Q.value!==t&&(d!==!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",t),(l===!0||e["onUpdate:modelValue"]===void 0)&&(at(Q.value,t),Q.value=t))}function te(){y(()=>{ke({width:N.value.offsetWidth,height:N.value.offsetHeight})})}function ke(t){if(J.value===void 0||p.value===null)return;const l=t[J.value.container],d=Math.min(p.value[J.value.scroll],Array.prototype.reduce.call(p.value.children,(T,_)=>T+(_[J.value.content]||0),0)),w=l>0&&d>l;A.value=w,w===!0&&P(X),z.value=l<parseInt(e.breakpoint,10)}function at(t,l){const d=t!=null&&t!==""?c.find(T=>T.name.value===t):null,w=l!=null&&l!==""?c.find(T=>T.name.value===l):null;if(d&&w){const T=d.tabIndicatorRef.value,_=w.tabIndicatorRef.value;x!==null&&(clearTimeout(x),x=null),T.style.transition="none",T.style.transform="none",_.style.transition="none",_.style.transform="none";const v=T.getBoundingClientRect(),k=_.getBoundingClientRect();_.style.transform=e.vertical===!0?`translate3d(0,${v.top-k.top}px,0) scale3d(1,${k.height?v.height/k.height:1},1)`:`translate3d(${v.left-k.left}px,0,0) scale3d(${k.width?v.width/k.width:1},1,1)`,q(()=>{x=setTimeout(()=>{x=null,_.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",_.style.transform="none"},70)})}w&&A.value===!0&&G(w.rootRef.value)}function G(t){const{left:l,width:d,top:w,height:T}=p.value.getBoundingClientRect(),_=t.getBoundingClientRect();let v=e.vertical===!0?_.top-w:_.left-l;if(v<0){p.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(v),X();return}v+=e.vertical===!0?_.height-T:_.width-d,v>0&&(p.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(v),X())}function X(){const t=p.value;if(t===null)return;const l=t.getBoundingClientRect(),d=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);ee.value===!0?(D.value=Math.ceil(d+l.width)<t.scrollWidth-1,F.value=d>0):(D.value=d>0,F.value=e.vertical===!0?Math.ceil(d+l.height)<t.scrollHeight:Math.ceil(d+l.width)<t.scrollWidth)}function pe(t){f!==null&&clearInterval(f),f=setInterval(()=>{ot(t)===!0&&V()},5)}function Be(){pe(ue.value===!0?Number.MAX_SAFE_INTEGER:0)}function Pe(){pe(ue.value===!0?0:Number.MAX_SAFE_INTEGER)}function V(){f!==null&&(clearInterval(f),f=null)}function lt(t,l){const d=Array.prototype.filter.call(p.value.children,k=>k===l||k.matches&&k.matches(".q-tab.q-focusable")===!0),w=d.length;if(w===0)return;if(t===36)return G(d[0]),d[0].focus(),!0;if(t===35)return G(d[w-1]),d[w-1].focus(),!0;const T=t===(e.vertical===!0?38:37),_=t===(e.vertical===!0?40:39),v=T===!0?-1:_===!0?1:void 0;if(v!==void 0){const k=ee.value===!0?-1:1,E=d.indexOf(l)+v*k;return E>=0&&E<w&&(G(d[E]),d[E].focus({preventScroll:!0})),!0}}const nt=C(()=>ue.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,l)=>{t.scrollLeft=-l}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,l)=>{t.scrollTop=l}}:{get:t=>t.scrollLeft,set:(t,l)=>{t.scrollLeft=l}});function ot(t){const l=p.value,{get:d,set:w}=nt.value;let T=!1,_=d(l);const v=t<_?-1:1;return _+=v*5,_<0?(T=!0,_=0):(v===-1&&_<=t||v===1&&_>=t)&&(T=!0,_=t),w(l,_),X(),T}function $e(t,l){for(const d in t)if(t[d]!==l[d])return!1;return!0}function rt(){let t=null,l={matchedLen:0,queryDiff:9999,hrefLen:0};const d=c.filter(v=>v.routeData!==void 0&&v.routeData.hasRouterLink.value===!0),{hash:w,query:T}=o.$route,_=Object.keys(T).length;for(const v of d){const k=v.routeData.exact.value===!0;if(v.routeData[k===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:E,query:de,matched:dt,href:ft}=v.routeData.resolvedLink.value,fe=Object.keys(de).length;if(k===!0){if(E!==w||fe!==_||$e(T,de)===!1)continue;t=v.name.value;break}if(E!==""&&E!==w||fe!==0&&$e(de,T)===!1)continue;const H={matchedLen:dt.length,queryDiff:_-fe,hrefLen:ft.length-E.length};if(H.matchedLen>l.matchedLen){t=v.name.value,l=H;continue}else if(H.matchedLen!==l.matchedLen)continue;if(H.queryDiff<l.queryDiff)t=v.name.value,l=H;else if(H.queryDiff!==l.queryDiff)continue;H.hrefLen>l.hrefLen&&(t=v.name.value,l=H)}t===null&&c.some(v=>v.routeData===void 0&&v.name.value===Q.value)===!0||ce({name:t,setCurrent:!0})}function st(t){if(h(),L.value!==!0&&N.value!==null&&t.target&&typeof t.target.closest=="function"){const l=t.target.closest(".q-tab");l&&N.value.contains(l)===!0&&(L.value=!0,A.value===!0&&G(l))}}function it(){i(()=>{L.value=!1},30)}function ae(){Ie.avoidRouteWatcher===!1?M(rt):$()}function Qe(){if(m===void 0){const t=I(()=>o.$route.fullPath,ae);m=()=>{t(),m=void 0}}}function ut(t){c.push(t),S.value++,te(),t.routeData===void 0||o.$route===void 0?M(()=>{if(A.value===!0){const l=Q.value,d=l!=null&&l!==""?c.find(w=>w.name.value===l):null;d&&G(d.rootRef.value)}}):(Qe(),t.routeData.hasRouterLink.value===!0&&ae())}function ct(t){c.splice(c.indexOf(t),1),S.value--,te(),m!==void 0&&t.routeData!==void 0&&(c.every(l=>l.routeData===void 0)===!0&&m(),ae())}const Ie={currentModel:Q,tabProps:B,hasFocus:L,hasActiveTab:se,registerTab:ut,unregisterTab:ct,verifyRouteModel:ae,updateModel:ce,onKbdNavigate:lt,avoidRouteWatcher:!1};wt(Ve,Ie);function Re(){x!==null&&clearTimeout(x),V(),m!==void 0&&m()}let Ae;return ye(Re),We(()=>{Ae=m!==void 0,Re()}),je(()=>{Ae===!0&&Qe(),te()}),()=>g("div",{ref:N,class:et.value,role:"tablist",onFocusin:st,onFocusout:it},[g(At,{onResize:ke}),g("div",{ref:p,class:tt.value,onScroll:X},re(s.default)),g(Y,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(D.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Be,onTouchstartPassive:Be,onMouseupPassive:V,onMouseleavePassive:V,onTouchendPassive:V}),g(Y,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(F.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Pe,onTouchstartPassive:Pe,onMouseupPassive:V,onMouseleavePassive:V,onTouchendPassive:V})])}});const Jt=["top","middle","bottom"];var oe=U({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Jt.includes(e)}},setup(e,{slots:s}){const n=C(()=>e.align!==void 0?{verticalAlign:e.align}:null),o=C(()=>{const a=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(a!==void 0?` text-${a}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>g("div",{class:o.value,style:n.value,role:"status","aria-label":e.label},He(s.default,e.label!==void 0?[e.label]:[]))}});const ea={class:"col"},ta={class:"row"},aa=["src"],la={class:"row flex-center float-it"},na={__name:"PlayerDash",setup(e){Le();const s=Tt(),n=b("player-name"),o=b(),a=b();return b(!0),b(!1),I(()=>s.getCurrentPlayer,y=>{n.value=y.name,o.value=y.avatar,a.value=y.score}),ze(()=>{s.setCurrentPlayer()}),(y,P)=>(j(),Ce("div",ea,[R("div",ta,[r(Se,{flat:"",ripple:!1,round:""},{default:u(()=>[r(qe,null,{default:u(()=>[we(r(Vt,{type:"circle",class:"full-width full-height"},null,512),[[Ct,!o.value]]),R("img",{src:o.value},null,8,aa)]),_:1})]),_:1})]),R("div",la,[r(oe,{rounded:"",style:{padding:"2px"},class:"score"},{default:u(()=>[W(K(a.value),1)]),_:1})])]))}},oa=[g("circle",{cx:"15",cy:"15",r:"15"},[g("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),g("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),g("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[g("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),g("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),g("circle",{cx:"105",cy:"15",r:"15"},[g("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),g("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])];var ra=U({name:"QSpinnerDots",props:St,setup(e){const{cSize:s,classes:n}=xt(e);return()=>g("svg",{class:n.value,fill:"currentColor",width:s.value,height:s.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},oa)}});const{passive:O}=Lt;var sa=U({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:s,emit:n}){const o=b(!1),a=b(!0),y=b(null),P=b(null);let q=e.initialIndex||0,i,h;const M=C(()=>"q-infinite-scroll__loading"+(o.value===!0?"":" invisible"));function $(){if(e.disable===!0||o.value===!0||a.value===!1)return;const f=le(i),m=be(i),B=Ee(i);e.reverse===!1?Math.round(m+B+e.offset)>=Math.round(f)&&N():Math.round(m)<=e.offset&&N()}function N(){if(e.disable===!0||o.value===!0||a.value===!1)return;q++,o.value=!0;const f=le(i);n("load",q,m=>{a.value===!0&&(o.value=!1,De(()=>{if(e.reverse===!0){const B=le(i),se=be(i),ie=B-f;_e(i,se+ie)}m===!0?A():y.value&&y.value.closest("body")&&h()}))})}function p(){q=0}function Q(){a.value===!1&&(a.value=!0,i.addEventListener("scroll",h,O)),$()}function A(){a.value===!0&&(a.value=!1,o.value=!1,i.removeEventListener("scroll",h,O),h!==void 0&&h.cancel!==void 0&&h.cancel())}function D(){if(i&&a.value===!0&&i.removeEventListener("scroll",h,O),i=kt(y.value,e.scrollTarget),a.value===!0){if(i.addEventListener("scroll",h,O),e.reverse===!0){const f=le(i),m=Ee(i);_e(i,f-m)}$()}}function F(f){q=f}function z(f){f=parseInt(f,10);const m=h;h=f<=0?$:pt($,isNaN(f)===!0?100:f),i&&a.value===!0&&(m!==void 0&&i.removeEventListener("scroll",m,O),i.addEventListener("scroll",h,O))}function c(f){if(S.value===!0){if(P.value===null){f!==!0&&De(()=>{c(!0)});return}const m=`${o.value===!0?"un":""}pauseAnimations`;Array.from(P.value.getElementsByTagName("svg")).forEach(B=>{B[m]()})}}const S=C(()=>e.disable!==!0&&a.value===!0);I([o,S],()=>{c()}),I(()=>e.disable,f=>{f===!0?A():Q()}),I(()=>e.reverse,()=>{o.value===!1&&a.value===!0&&$()}),I(()=>e.scrollTarget,D),I(()=>e.debounce,z);let L=!1;je(()=>{L!==!1&&i&&_e(i,L)}),We(()=>{L=i?be(i):!1}),ye(()=>{a.value===!0&&i.removeEventListener("scroll",h,O)}),Fe(()=>{z(e.debounce),D(),o.value===!1&&c()});const x=Te();return Object.assign(x.proxy,{poll:()=>{h!==void 0&&h()},trigger:N,stop:A,reset:p,resume:Q,setIndex:F,updateScrollTarget:D}),()=>{const f=qt(s.default,[]);return S.value===!0&&f[e.reverse===!1?"push":"unshift"](g("div",{ref:P,class:M.value},re(s.loading))),g("div",{class:"q-infinite-scroll",ref:y},f)}}});const ia=Bt("leaderboard",{state:()=>({leaderBoard:[],fetchLimit:25}),getters:{getLeaderboard(e){return e.leaderBoard}},actions:{async addPost(e){let{data:s,error:n}=await me.rpc("insert_post",{post_text:e});n?console.error(n):console.log(s)},async fetchLeaderboard(e,s){const n=(e-1)*this.fetchLimit;e*this.fetchLimit;const o=25;await me.rpc("get_paginated_leaderboard",{start:n,page_size:o}).then(a=>{setTimeout(()=>{this.leaderBoard&&(console.log(...a.data),this.leaderBoard.push(...a.data),s())},3e3)})}}});var ua="/assets/account_circle.a00a7e52.svg";const ca=["src"],da={__name:"LeaderBoardCard",props:{avatar_url:String,player_name:String,total_points:Number,total_posts:Number,wins:Number,hide:Boolean,player_id:String,total_count:Number},setup(e){const s=b(!1),n=e;return I(()=>n.hide,o=>{console.log(o),s.value=o}),(o,a)=>(j(),Ce(Ke,null,[r(Mt,{axis:"vertical",onScroll:a[0]||(a[0]=y=>s.value=!1)}),r(ne,{avatar:""},{default:u(()=>[r(qe,null,{default:u(()=>[R("img",{src:n.avatar_url?n.avatar_url:xe(ua)},null,8,ca)]),_:1})]),_:1}),r(ne,{class:"info-header text-left board"},{default:u(()=>[W(K(n.player_name),1)]),_:1}),r(ne,{class:"info-header text-right board"},{default:u(()=>[W(K(s.value?"":"  "+n.total_points),1)]),_:1}),r(Dt,{fit:"","auto-hide":"",modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=y=>s.value=y),cover:""},{default:u(()=>[r(Ye,null,{default:u(()=>[r(Oe,null,{default:u(()=>[r(ne,{class:"info text-left board"}),r(Pt,{class:"info text-center board"},{default:u(()=>[W(K(n.player_name)+" ",1),r(oe,{class:"badge",color:"accent"},{default:u(()=>[W("Posts: "+K(n.total_posts),1)]),_:1}),r(oe,{class:"badge",color:"accent"},{default:u(()=>[W("Wins: "+K(n.wins),1)]),_:1}),r(oe,{class:"badge",color:"accent"},{default:u(()=>[W("Score "+K(n.total_points),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const fa=R("div",{class:"text-center"},"Leaderboard",-1),va={class:"row justify-center q-my-md"},ga={__name:"LeaderBoard",setup(e){const s=Le(),n=ia(),o=b([]),a=b(),y=b(null),P=b(`${s.screen.height}px`);ze(()=>{o.value=n.getLeaderboard}),I(()=>s.screen.height,i=>{P.value=i}),I(()=>n.getLeaderboard,i=>{o.value=i});async function q(i,h){await me.rpc("get_paginated_leaderboard",{page_number:i,page_size:25}).then($=>{setTimeout(()=>{o.value&&(n.leaderBoard.push(...$.data),h())},3e3)})}return(i,h)=>(j(),Z(It,{onHide:h[0]||(h[0]=()=>{xe(n).leaderBoard=[]})},{default:u(()=>[r(Ue,{view:"lHh lpr lFf",container:"",class:"shadow-2 rounded-borders bg-secondary"},{default:u(()=>[r(Ge,{elavated:""},{default:u(()=>[r(Je,{class:"bg-primary title"},{default:u(()=>[r(Ze,null,{default:u(()=>[fa]),_:1}),we(r(Se,{icon:"close",padding:"5px",class:"absolute-right",square:"",flat:"","v-model":!0},null,512),[[Et]])]),_:1})]),_:1}),r(Xe,null,{default:u(()=>[r(jt,null,{default:u(()=>[R("div",null,[r(sa,{onLoad:q,offset:350,"scroll-target":y.value,"initial-index":0},{loading:u(()=>[R("div",va,[r(ra,{color:"pink",size:"40px"})])]),default:u(()=>[r(Oe,{class:"q-px-md bg-secondary",flat:""},{default:u(()=>[r(Ye,{ref:y.value},{default:u(()=>[(j(!0),Ce(Ke,null,$t(o.value,(M,$)=>(j(),Z(Ft,{key:$},{default:u(()=>[r(da,Qt(M,{hide:a.value}),null,16,["hide"])]),_:2},1024))),128))]),_:1},512)]),_:1})]),_:1},8,["scroll-target"])])]),_:1})]),_:1})]),_:1})]),_:1}))}},ba={class:"row items-center"},_a={class:"row items-center"},ha=R("div",{class:"text-center"},null,-1),ma={class:"row items-center"},ya={__name:"NavButtons",setup(e){const s=Le(),n=b(!1);function o(){s.dialog({component:ga,dark:!0,cancel:!0}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})}function a(){n.value?n.value=!1:(n.value=!0,s.dialog({component:zt,dark:!0}).onOk(()=>{n.value=!1}).onCancel(()=>{n.value=!1}).onDismiss(()=>{n.value=!1}))}function y(){s.dialog({component:Ht,dark:!0}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})}return(P,q)=>(j(),Z(Zt,{push:"",flat:"",align:"center","indicator-color":"transparent"},{default:u(()=>[r(he,{onClick:o},{default:u(()=>[R("div",ba,[r(Y,{size:"sm",name:"leaderboard"})])]),_:1}),r(he,{onClick:q[0]||(q[0]=i=>y())},{default:u(()=>[R("div",_a,[ha,r(na)])]),_:1}),r(he,{onClick:q[1]||(q[1]=i=>a())},{default:u(()=>[R("div",ma,[r(Y,{size:"sm",name:"post_add"})])]),_:1})]),_:1}))}};var wa="/assets/kofi_s_logo_nolabel.779bccb2.svg";const Ta=["src"],Ca={__name:"KoFi",setup(e){return(s,n)=>(j(),Z(Se,{href:"https://ko-fi.com/jacksfilms",target:"_blank",color:"pithee",class:"bg-accent"},{default:u(()=>[r(Wt,{class:"bg-accent"},{default:u(()=>[W("Support Pithee on KoFi")]),_:1}),r(qe,null,{default:u(()=>[R("img",{src:xe(wa)},null,8,Ta)]),_:1})]),_:1}))}};const Sa={class:"nav absolute-center"},$a={__name:"GameBoard",setup(e){return b("Pithee"),(s,n)=>{const o=Rt("router-view");return j(),Z(Ue,{view:"hHh Lpr fFf "},{default:u(()=>[r(Ge,{elevated:""},{default:u(()=>[r(Je,{class:"toolbar"},{default:u(()=>[r(Ze,null,{default:u(()=>[r(vt,{position:"0 0",src:"assets/pithee_logo3.png",style:{"max-height":"50px"},fit:"scale-down",class:"content-left"})]),_:1}),R("div",Sa,[r(ya)]),r(Ca)]),_:1})]),_:1}),r(Xe,null,{default:u(()=>[r(o)]),_:1})]),_:1})}}};export{$a as default};
